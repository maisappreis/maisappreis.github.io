(function(){"use strict";var e={7053:function(e,t,a){var s=a(9242),o=a(3396);const n={class:"app-area"};function i(e,t,a,s,i,r){const l=(0,o.up)("HeaderPage"),u=(0,o.up)("SideBar"),c=(0,o.up)("ContentPage"),d=(0,o.up)("FooterPage");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o.Wm)(l,{class:"header",selectedPage:e.selectedPage},null,8,["selectedPage"]),(0,o.Wm)(u,{class:"sidebar",onShowContent:r.openContent},null,8,["onShowContent"]),(0,o.Wm)(c,{class:"content",selectedPage:e.selectedPage},null,8,["selectedPage"]),(0,o.Wm)(d,{class:"footer"})])}const r=e=>((0,o.dD)("data-v-f6aef802"),e=e(),(0,o.Cn)(),e),l={class:"hearder-area"},u={key:0,class:"text-box"},c={class:"header-title"},d=r((()=>(0,o._)("h2",{class:"title"},"Métricas",-1))),m=r((()=>(0,o._)("p",{class:"subtitle"}," Visualização gráfica de receita, despesas, lucro e clientes ",-1))),h={key:1,class:"text-box"},p={class:"header-title"},g=r((()=>(0,o._)("h2",{class:"title"},"Clientes",-1))),v=r((()=>(0,o._)("p",{class:"subtitle"},"Cadastramento dos clientes",-1))),f={key:2,class:"text-box"},y={class:"header-title"},w=r((()=>(0,o._)("h2",{class:"title"},"Receitas",-1))),D=r((()=>(0,o._)("p",{class:"subtitle"}," Controle do recebimento das mensalidades dos clientes ",-1))),M={key:3,class:"text-box"},b={class:"header-title"},_=r((()=>(0,o._)("h2",{class:"title"},"Despesas",-1))),x=r((()=>(0,o._)("p",{class:"subtitle"},"Controle do pagamento das contas",-1)));function k(e,t,a,s,n,i){const r=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",l,["metrics"===a.selectedPage?((0,o.wg)(),(0,o.iD)("div",u,[(0,o._)("div",c,[(0,o.Wm)(r,{icon:"fa-solid fa-chart-line",class:"icon"}),d]),m])):(0,o.kq)("",!0),"customers"===a.selectedPage?((0,o.wg)(),(0,o.iD)("div",h,[(0,o._)("div",p,[(0,o.Wm)(r,{icon:"fa-solid fa-users",class:"icon"}),g]),v])):(0,o.kq)("",!0),"revenue"===a.selectedPage?((0,o.wg)(),(0,o.iD)("div",f,[(0,o._)("div",y,[(0,o.Wm)(r,{icon:"fa-solid fa-hand-holding-dollar",class:"icon"}),w]),D])):(0,o.kq)("",!0),"expenses"===a.selectedPage?((0,o.wg)(),(0,o.iD)("div",M,[(0,o._)("div",b,[(0,o.Wm)(r,{icon:"fa-solid fa-money-bill-transfer",class:"icon"}),_]),x])):(0,o.kq)("",!0)])}var P={name:"HeaderPage",props:{selectedPage:String}},C=a(89);const S=(0,C.Z)(P,[["render",k],["__scopeId","data-v-f6aef802"]]);var $=S,F=a(7139);const T=e=>((0,o.dD)("data-v-1176aad3"),e=e(),(0,o.Cn)(),e),A={class:"sidebar-area"},E=T((()=>(0,o._)("span",{class:"option-text"},"Métricas",-1))),U=T((()=>(0,o._)("span",{class:"option-text"},"Clientes",-1))),q=T((()=>(0,o._)("span",{class:"option-text"},"Receitas",-1))),R=T((()=>(0,o._)("span",{class:"option-text"},"Despesas",-1)));function z(e,t,a,s,n,i){const r=(0,o.up)("LogoType"),l=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("aside",A,[(0,o.Wm)(r,{class:"logo-area"}),(0,o._)("ul",null,[(0,o._)("li",{class:(0,F.C_)(["option pad",{selectedOption:"metrics"===e.selectedPage}]),onClick:t[0]||(t[0]=e=>i.openContent("metrics"))},[(0,o.Wm)(l,{icon:"fa-solid fa-chart-line",class:(0,F.C_)(["icon",{selectedIcon:"metrics"===e.selectedPage}])},null,8,["class"]),E],2),(0,o._)("li",{class:(0,F.C_)(["option pad",{selectedOption:"customers"===e.selectedPage}]),onClick:t[1]||(t[1]=e=>i.openContent("customers"))},[(0,o.Wm)(l,{icon:"fa-solid fa-users",class:(0,F.C_)(["icon",{selectedIcon:"customers"===e.selectedPage}])},null,8,["class"]),U],2),(0,o._)("li",{class:(0,F.C_)(["option pad",{selectedOption:"revenue"===e.selectedPage}]),onClick:t[2]||(t[2]=e=>i.openContent("revenue"))},[(0,o.Wm)(l,{icon:"fa-solid fa-hand-holding-dollar",class:(0,F.C_)(["icon",{selectedIcon:"revenue"===e.selectedPage}])},null,8,["class"]),q],2),(0,o._)("li",{class:(0,F.C_)(["option pad",{selectedOption:"expenses"===e.selectedPage}]),onClick:t[3]||(t[3]=e=>i.openContent("expenses"))},[(0,o.Wm)(l,{icon:"fa-solid fa-money-bill-transfer",class:(0,F.C_)(["icon",{selectedIcon:"expenses"===e.selectedPage}])},null,8,["class"]),R],2)])])}var I=a.p+"img/logo.5be3d9cf.png";const L=e=>((0,o.dD)("data-v-3a8a4396"),e=e(),(0,o.Cn)(),e),W=L((()=>(0,o._)("img",{src:I,alt:"Logo"},null,-1))),V=[W];function N(e,t,a,s,n,i){return(0,o.wg)(),(0,o.iD)("div",null,V)}var Y={name:"LogoType"};const Z=(0,C.Z)(Y,[["render",N],["__scopeId","data-v-3a8a4396"]]);var O=Z,j={name:"SideBar",components:{LogoType:O},data:function(){return{selectedPage:"metrics"}},methods:{openContent(e){this.selectedPage=e,this.$emit("showContent",e)}}};const B=(0,C.Z)(j,[["render",z],["__scopeId","data-v-1176aad3"]]);var G=B;const H={class:"content"};function J(e,t,a,s,n,i){const r=(0,o.up)("MetricsPage"),l=(0,o.up)("CustomersPage"),u=(0,o.up)("RevenuePage"),c=(0,o.up)("ExpensesPage");return(0,o.wg)(),(0,o.iD)("div",H,["metrics"===a.selectedPage?((0,o.wg)(),(0,o.j4)(r,{key:0,customers:n.customers,revenue:n.revenue,expenses:n.expenses,onUpdateData:i.getData},null,8,["customers","revenue","expenses","onUpdateData"])):(0,o.kq)("",!0),"customers"===a.selectedPage?((0,o.wg)(),(0,o.j4)(l,{key:1,customers:n.customers,revenue:n.revenue,selectedPage:a.selectedPage,onUpdateData:i.getData},null,8,["customers","revenue","selectedPage","onUpdateData"])):(0,o.kq)("",!0),"revenue"===a.selectedPage?((0,o.wg)(),(0,o.j4)(u,{key:2,revenue:n.revenue,customers:n.customers,selectedPage:a.selectedPage,onUpdateData:i.getData},null,8,["revenue","customers","selectedPage","onUpdateData"])):(0,o.kq)("",!0),"expenses"===a.selectedPage?((0,o.wg)(),(0,o.j4)(c,{key:3,expenses:n.expenses,selectedPage:a.selectedPage,onUpdateData:i.getData},null,8,["expenses","selectedPage","onUpdateData"])):(0,o.kq)("",!0)])}const K={class:"content-area"},X={style:{display:"flex"}};function Q(e,t,a,s,n,i){const r=(0,o.up)("RevenueExpensesChart"),l=(0,o.up)("ActiveCustomersChart"),u=(0,o.up)("ProfitChart");return(0,o.wg)(),(0,o.iD)("div",K,[(0,o.Wm)(r,{monthlyRevenue:n.monthlyRevenueOrdered,monthlyExpenses:n.monthlyExpensesOrdered},null,8,["monthlyRevenue","monthlyExpenses"]),(0,o._)("div",X,[(0,o.Wm)(l,{customers:a.customers,revenue:a.revenue},null,8,["customers","revenue"]),(0,o.Wm)(u,{monthlyProfit:n.monthlyProfit},null,8,["monthlyProfit"])])])}a(560);const ee={class:"chart-area"};function te(e,t,a,s,n,i){const r=(0,o.up)("Line");return(0,o.wg)(),(0,o.iD)("div",ee,[(0,o.Wm)(r,{data:n.chartData,options:n.chartOptions,style:(0,F.j5)(i.myStyles)},null,8,["data","options","style"])])}var ae=a(5866),se=a(9646);se.kL.register(se.uw,se.f$,se.od,se.jn,se.Dx,se.u,se.De);var oe={name:"RevenueExpensesChart",components:{Line:ae.x1},props:{monthlyRevenue:Array,monthlyExpenses:Array},data(){return{chartData:{labels:[],datasets:[]},chartOptions:{responsive:!0,plugins:{legend:{display:!0,labels:{color:"gray",boxHeight:15,boxWidth:15,font:{size:"20px"}}},tooltip:{enabled:!0,bodySpacing:5,padding:15,displayColors:!1,titleFont:{size:18},bodyFont:{size:15}}}}}},computed:{myStyles(){return{height:"100%",width:"100%",position:"relative"}}},watch:{monthlyRevenue(){if(this.monthlyRevenue.length>0&&this.monthlyExpenses.length>0){let e=this.$methods.filterLast12Months(this.monthlyRevenue),t=this.$methods.filterLast12Months(this.monthlyExpenses),a=e.map((e=>e.month)),s=e.map((e=>e.sum)),o=t.map((e=>e.sum));this.chartData={labels:a,datasets:[{label:"Receita",backgroundColor:"green",borderColor:"rgba(64, 163, 79, 0.8)",pointRadius:4,data:s},{label:"Despesas",backgroundColor:"red",pointRadius:4,borderColor:"rgba(168, 59, 68, 0.8)",data:o}]}}}}};const ne=(0,C.Z)(oe,[["render",te],["__scopeId","data-v-45a1d37d"]]);var ie=ne;const re={class:"chart-area"};function le(e,t,a,s,n,i){const r=(0,o.up)("Line");return(0,o.wg)(),(0,o.iD)("div",re,[(0,o.Wm)(r,{data:n.chartData,options:n.chartOptions,style:(0,F.j5)(i.myStyles)},null,8,["data","options","style"])])}se.kL.register(se.uw,se.f$,se.od,se.jn,se.Dx,se.u,se.De);var ue={name:"ActiveCustomersChart",components:{Line:ae.x1},props:{customers:Array,revenue:Array},data(){return{chartData:{labels:[],datasets:[]},chartOptions:{responsive:!0,plugins:{legend:{display:!0,labels:{color:"gray",boxHeight:15,boxWidth:15,font:{size:"20px"}}},tooltip:{enabled:!0,bodySpacing:5,padding:15,displayColors:!1,titleFont:{size:18},bodyFont:{size:15}}}}}},computed:{myStyles(){return{height:"100%",position:"relative"}}},methods:{calculateActiveCustomersPerMonth(){const e=[];return this.revenue.forEach((t=>{if("Pago"===t.paid){const a=t.year,s=t.month,o=t.customer,n=this.customers.find((e=>e.id===o));if(n&&"Ativo"===n.status){const t=e.findIndex((e=>e.year===a&&e.month===s));-1===t?e.push({year:a,month:s,sum:1}):e[t].sum++}}})),e}},watch:{customers(){let e=[];if(this.revenue&&this.revenue.length>0&&this.customers&&this.customers.length>0&&(e=this.calculateActiveCustomersPerMonth()),e&&e.length>0){let t=this.$methods.filterLast12Months(e),a=t.map((e=>e.month)),s=t.map((e=>e.sum));this.chartData={labels:a,datasets:[{label:"Clientes",backgroundColor:"blue",borderColor:"rgba(110, 93, 207, 0.8)",pointRadius:4,data:s}]}}}}};const ce=(0,C.Z)(ue,[["render",le],["__scopeId","data-v-413da979"]]);var de=ce;const me={class:"chart-area"};function he(e,t,a,s,n,i){const r=(0,o.up)("Bar");return(0,o.wg)(),(0,o.iD)("div",me,[(0,o.Wm)(r,{id:"my-chart-id",options:n.chartOptions,data:n.chartData,style:(0,F.j5)(i.myStyles)},null,8,["options","data","style"])])}se.kL.register(se.Dx,se.u,se.De,se.ZL,se.uw,se.f$);var pe={name:"ProfitChart",components:{Bar:ae.$Q},props:{monthlyProfit:Array},data(){return{chartData:{labels:[],datasets:[]},chartOptions:{responsive:!0,plugins:{legend:{display:!0,labels:{color:"gray",boxHeight:15,boxWidth:15,font:{size:"20px"}}},tooltip:{enabled:!0,bodySpacing:5,padding:15,displayColors:!1,titleFont:{size:18},bodyFont:{size:15}}}}}},computed:{myStyles(){return{height:"100%",position:"relative"}}},watch:{monthlyProfit(){if(this.monthlyProfit&&this.monthlyProfit.length>0){let e=this.$methods.filterLast12Months(this.monthlyProfit),t=e.map((e=>e.month)),a=e.map((e=>e.sum));this.chartData={labels:t,datasets:[{label:"Lucro",backgroundColor:"green",data:a}]}}}}};const ge=(0,C.Z)(pe,[["render",he],["__scopeId","data-v-01e05f7b"]]);var ve=ge,fe={name:"MetricsPage",components:{RevenueExpensesChart:ie,ActiveCustomersChart:de,ProfitChart:ve},props:{customers:Array,revenue:Array,expenses:Array},data(){return{monthlyRevenueOrdered:[],monthlyExpensesOrdered:[],monthlyProfit:[]}},methods:{sumMonthlyAmounts(e){const t=new Map;return e.forEach((e=>{const a=`${e.year}-${e.month}`;t.has(a)||t.set(a,{year:e.year,month:e.month,sum:0}),t.get(a).sum+=e.value})),Array.from(t.values())},calculateProfit(){const e=[];this.monthlyRevenueOrdered.forEach((t=>{const a=this.monthlyExpensesOrdered.find((e=>e.year===t.year&&e.month===t.month)),s={year:t.year,month:t.month,sum:t.sum-(a?a.sum:0)};e.push(s)})),this.monthlyProfit=e}},watch:{revenue(){if(this.revenue&&this.revenue.length>0){let e=this.revenue.filter((e=>"Pago"===e.paid)),t=this.expenses.filter((e=>"Pago"===e.paid)),a=this.sumMonthlyAmounts(e),s=this.sumMonthlyAmounts(t);this.monthlyRevenueOrdered=this.$methods.sortData(a),this.monthlyExpensesOrdered=this.$methods.sortData(s),this.calculateProfit()}}},mounted(){this.$emit("updateData")}};const ye=(0,C.Z)(fe,[["render",Q]]);var we=ye;const De={class:"content-area"},Me={style:{display:"flex","justify-content":"space-between"}},be={style:{display:"flex","justify-content":"flex-end"}},_e={key:0,class:"message-area"},xe={class:"highlight"},ke=(0,o._)("strong",{class:"highlight"},"Inativo",-1),Pe={key:1,class:"message-area"},Ce={class:"highlight"},Se={key:1,class:"defocus"};function $e(e,t,a,s,n,i){const r=(0,o.up)("font-awesome-icon"),l=(0,o.up)("DefaultButton"),u=(0,o.up)("StatusFilter"),c=(0,o.up)("DefaultSearch"),d=(0,o.up)("DefaultTable"),m=(0,o.up)("CustomersForm"),h=(0,o.up)("DefaultModal");return(0,o.wg)(),(0,o.iD)("div",De,[(0,o._)("div",Me,[(0,o.Wm)(l,{onExecuteAction:i.addCustomer,style:{"background-color":"var(--red-dark-color)"}},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{icon:"fa-solid fa-plus",class:"icon-add"}),(0,o.Uk)(" Novo Cliente ")])),_:1},8,["onExecuteAction"]),(0,o._)("div",be,[(0,o.Wm)(u,{onGetStatus:i.getStatus},null,8,["onGetStatus"]),(0,o.Wm)(c,{onApplySearch:i.applySearch},null,8,["onApplySearch"])])]),(0,o.Wm)(d,{columns:n.columns,data:i.filteredCustomers,searchedField:n.searchedField,requestMessage:n.requestMessage,onUpdateItem:i.updateCustomer,onDeleteItem:i.showDeleteModal},null,8,["columns","data","searchedField","requestMessage","onUpdateItem","onDeleteItem"]),n.showModal?((0,o.wg)(),(0,o.j4)(h,{key:0,isForm:n.isForm,buttonMessage:n.buttonMessage,onExecuteAction:i.getModalAction,onCloseModal:i.closeModal},{default:(0,o.w5)((()=>["delete"===n.action&&e.blockDelete?((0,o.wg)(),(0,o.iD)("h3",_e,[(0,o.Uk)(" Não é possível excluir o cliente "),(0,o._)("strong",xe,(0,F.zw)(n.customerName),1),(0,o.Uk)(", pois isso excluiria todo o seu histórico de receitas. Ao invés de excluí-lo, mude seu status para "),ke,(0,o.Uk)(". ")])):"delete"!==n.action||e.blockDelete?((0,o.wg)(),(0,o.j4)(m,{key:2,item:n.item,action:n.action,modalTitle:n.modalTitle,onUpdateTable:t[0]||(t[0]=t=>e.$emit("updateData")),onCloseModal:i.closeModal,onShowMessage:i.showMessage},null,8,["item","action","modalTitle","onCloseModal","onShowMessage"])):((0,o.wg)(),(0,o.iD)("h3",Pe,[(0,o.Uk)(" Tem certeza que deseja excluir o cliente "),(0,o._)("strong",Ce,(0,F.zw)(n.customerName),1),(0,o.Uk)("? ")]))])),_:1},8,["isForm","buttonMessage","onExecuteAction","onCloseModal"])):(0,o.kq)("",!0),n.showModal?((0,o.wg)(),(0,o.iD)("div",Se)):(0,o.kq)("",!0)])}const Fe=e=>((0,o.dD)("data-v-2adf6440"),e=e(),(0,o.Cn)(),e),Te={key:0},Ae={class:"table-area"},Ee={key:0,class:"align-right"},Ue={key:2},qe={key:3},Re=["onClick","onMouseover"],ze={key:5},Ie={class:"pagination-area"},Le={class:"pagination-items"},We=["disabled"],Ve=["disabled"],Ne=["onClick"],Ye=["disabled"],Ze=["disabled"],Oe=Fe((()=>(0,o._)("option",{value:"3"},"3",-1))),je=Fe((()=>(0,o._)("option",{value:"5"},"5",-1))),Be=Fe((()=>(0,o._)("option",{value:"8"},"8",-1))),Ge=[Oe,je,Be],He={class:"pagination-items"},Je={key:1,class:"not-found"};function Ke(e,t,a,n,i,r){const l=(0,o.up)("font-awesome-icon"),u=(0,o.up)("DefaultTooltip"),c=(0,o.up)("RequestAlert");return(0,o.wg)(),(0,o.iD)("div",null,[a.columns.length>0&&r.paginatedData.length>0?((0,o.wg)(),(0,o.iD)("div",Te,[(0,o._)("table",Ae,[(0,o._)("thead",null,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.columns,(e=>((0,o.wg)(),(0,o.iD)("th",{key:e.key,style:{"text-align":"center"}},(0,F.zw)(e.name),1)))),128))])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.paginatedData,((s,n)=>((0,o.wg)(),(0,o.iD)("tr",{key:n},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.columns,(a=>((0,o.wg)(),(0,o.iD)("td",{key:a.key,style:{"text-align":"center"}},["actions"===a.key?((0,o.wg)(),(0,o.iD)("span",Ee,[s.notes?((0,o.wg)(),(0,o.j4)(l,{key:0,icon:"fa-solid fa-circle-info",class:"icon",onMouseover:e=>r.showTooltip("notas",e,s),onMouseout:t[0]||(t[0]=e=>r.hideTooltip())},null,8,["onMouseover"])):(0,o.kq)("",!0),(0,o.Wm)(l,{icon:"fa-solid fa-pen-to-square",class:"icon",onClick:t=>e.$emit("updateItem",s),onMouseover:t[1]||(t[1]=e=>r.showTooltip("Atualizar",e)),onMouseout:t[2]||(t[2]=e=>r.hideTooltip())},null,8,["onClick"]),(0,o.Wm)(l,{icon:"fa-solid fa-trash-can",class:"icon",onClick:t=>e.$emit("deleteItem",s),onMouseover:t[3]||(t[3]=e=>r.showTooltip("Excluir",e)),onMouseout:t[4]||(t[4]=e=>r.hideTooltip())},null,8,["onClick"])])):"status"===a.key?((0,o.wg)(),(0,o.iD)("span",{key:1,class:(0,F.C_)(["status",{active:"Ativo"===s[a.key],inactive:"Inativo"===s[a.key]}])},(0,F.zw)(s[a.key]),3)):"value"===a.key?((0,o.wg)(),(0,o.iD)("span",Ue," R$ "+(0,F.zw)(s[a.key].toFixed(2).toString().replace(/\./g,",")),1)):"start"===a.key||"due_date"===a.key?((0,o.wg)(),(0,o.iD)("span",qe,(0,F.zw)(this.formatDate(s[a.key])),1)):"paid"===a.key?((0,o.wg)(),(0,o.iD)("span",{key:4,class:(0,F.C_)(["status paid",{active:"Pago"===s[a.key],inactive:"À pagar"===s[a.key],sent:"Link enviado"===s[a.key]}]),onClick:e=>r.changePaidStatus(s),onMouseover:e=>r.showTooltip("status",e,s[a.key]),onMouseout:t[5]||(t[5]=e=>r.hideTooltip())},(0,F.zw)(s[a.key]),43,Re)):((0,o.wg)(),(0,o.iD)("span",ze,(0,F.zw)(s[a.key]),1))])))),128))])))),128))])]),(0,o._)("div",Ie,[(0,o._)("span",Le,"Página "+(0,F.zw)(e.currentPage)+" de "+(0,F.zw)(r.totalPages),1),(0,o._)("button",{class:"pagination-button",onClick:t[6]||(t[6]=(...e)=>r.goToFirstPage&&r.goToFirstPage(...e)),disabled:1===e.currentPage}," «« ",8,We),(0,o._)("button",{class:"pagination-button",onClick:t[7]||(t[7]=(...e)=>r.previousPage&&r.previousPage(...e)),disabled:1===e.currentPage}," « ",8,Ve),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.getPageNumbers(),(t=>((0,o.wg)(),(0,o.iD)("button",{key:t,class:(0,F.C_)(["pagination-button",{active:t===e.currentPage}]),onClick:e=>r.goToPage(t)},(0,F.zw)(t),11,Ne)))),128)),(0,o._)("button",{class:"pagination-button",onClick:t[8]||(t[8]=(...e)=>r.nextPage&&r.nextPage(...e)),disabled:e.currentPage===r.totalPages}," » ",8,Ye),(0,o._)("button",{class:"pagination-button",onClick:t[9]||(t[9]=(...e)=>r.goToLastPage&&r.goToLastPage(...e)),disabled:e.currentPage===r.totalPages}," »» ",8,Ze),(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[10]||(t[10]=t=>e.itemsPerPage=t)},Ge,512),[[s.bM,e.itemsPerPage]]),(0,o._)("span",He,"Total de "+(0,F.zw)(r.totalItems)+" itens",1)]),e.showingTooltip?((0,o.wg)(),(0,o.j4)(u,{key:0,mouseX:e.mouseX,mouseY:e.mouseY},{default:(0,o.w5)((()=>[(0,o._)("p",null,(0,F.zw)(this.tooltip),1)])),_:1},8,["mouseX","mouseY"])):(0,o.kq)("",!0)])):((0,o.wg)(),(0,o.iD)("div",Je,"Nenhum resultado foi encontrado.")),e.responseMessage?((0,o.wg)(),(0,o.j4)(c,{key:2,responseMessage:e.responseMessage,onCloseMessage:t[11]||(t[11]=t=>e.responseMessage="")},{default:(0,o.w5)((()=>[(0,o.Uk)((0,F.zw)(e.responseMessage),1)])),_:1},8,["responseMessage"])):(0,o.kq)("",!0)])}function Xe(e,t,a,s,n,i){return(0,o.wg)(),(0,o.iD)("div",{class:"tooltip-area",style:(0,F.j5)({top:`${a.mouseY}px`,left:`${a.mouseX}px`})},[(0,o.WI)(e.$slots,"default",{},void 0,!0)],4)}var Qe={name:"DefaultTooltip",props:{mouseX:Number,mouseY:Number}};const et=(0,C.Z)(Qe,[["render",Xe],["__scopeId","data-v-0b5d7838"]]);var tt=et;const at=e=>((0,o.dD)("data-v-8deac112"),e=e(),(0,o.Cn)(),e),st={key:0,class:"alert-area success"},ot=at((()=>(0,o._)("div",{class:"marker green"},null,-1))),nt={class:"message"},it={key:1,class:"alert-area error"},rt=at((()=>(0,o._)("div",{class:"marker red"},null,-1))),lt={class:"message"};function ut(e,t,a,s,n,i){const r=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",null,[i.showSuccessAlert?((0,o.wg)(),(0,o.iD)("div",st,[ot,(0,o._)("div",nt,[(0,o.Wm)(r,{icon:"fa-solid fa-check",class:"icon"}),(0,o.WI)(e.$slots,"default",{},void 0,!0)])])):((0,o.wg)(),(0,o.iD)("div",it,[rt,(0,o._)("div",lt,[(0,o.Wm)(r,{icon:"fa-solid fa-xmark",class:"icon"}),(0,o.WI)(e.$slots,"default",{},void 0,!0)])]))])}var ct={name:"RequestAlert",props:{responseMessage:String},computed:{showSuccessAlert(){return this.responseMessage.includes("sucesso")}},methods:{closeMessage(){this.$emit("closeMessage")}},mounted(){setTimeout(this.closeMessage,5e3)}};const dt=(0,C.Z)(ct,[["render",ut],["__scopeId","data-v-8deac112"]]);var mt=dt,ht=a(1076),pt={name:"DefaultTable",components:{DefaultTooltip:tt,RequestAlert:mt},props:{columns:Array,data:Array,searchedField:Array,page:String,requestMessage:String},data:function(){return{itemsPerPage:8,currentPage:1,checkboxState:!1,showingTooltip:!1,tooltip:"",mouseX:0,mouseY:0,responseMessage:"",entity:""}},computed:{paginatedData(){if(this.searchedField&&0==this.searchedField.length){const e=(this.currentPage-1)*this.itemsPerPage,t=e+Number(this.itemsPerPage);return this.filteredList.slice(e,t)}return this.filteredList},totalPages(){return this.searchedField&&this.searchedField.length>0?Math.ceil(this.filteredList.length/this.itemsPerPage):Math.ceil(this.orderedData.length/this.itemsPerPage)},totalItems(){return this.searchedField&&this.searchedField.length>0?this.filteredList.length:this.orderedData.length},filteredList(){return this.searchedField&&this.searchedField.length>0?this.orderedData.reduce(((e,t)=>{const a=this.searchedField.some((e=>{const a=e.toLowerCase(),s=t.name.toLowerCase();return s.includes(a)}));return a&&e.push(t),e}),[]):this.orderedData},orderedData(){if(this.data&&this.data.length>0){let e=this.orderData(this.data);return e}return[]}},methods:{showTooltip(e,t,a){this.tooltip="status"===e?a?"Marcar como à pagar":"Marcar como pago":"notas"===e?a.notes:e,this.showingTooltip=!0,this.mouseX=t.clientX-40,this.mouseY=t.clientY+15},hideTooltip(){this.showingTooltip=!1},async changePaidStatus(e){try{let t={};"expenses"===this.page?(this.entity="expense","À pagar"===e.paid?t={paid:"Pago"}:"Pago"===e.paid&&(t={paid:"À pagar"})):"revenue"===this.page&&(this.entity="revenue","À pagar"===e.paid?t={paid:"Link enviado"}:"Link enviado"===e.paid?t={paid:"Pago"}:"Pago"===e.paid&&(t={paid:"À pagar"})),await ht.Z.patch(`${this.apiURL}/${this.entity}/${e.id}/`,t),this.$emit("updateData"),this.responseMessage="Status do pagamento salvo com sucesso!","Pago"===t.paid&&("revenue"===this.page&&"Ativo"===e.status?this.createRevenueForNextMonth(e):"expenses"===this.page&&this.createExpenseForNextMonth(e))}catch(t){console.error("Erro ao atualizar o status de pagamento...",t),this.responseMessage="Erro ao salvar o status do pagamento."}},previousPage(){this.currentPage>1&&(this.currentPage-=1)},nextPage(){this.currentPage<this.totalPages&&(this.currentPage+=1)},getPageNumbers(){const e=2,t=Math.max(1,this.currentPage-e),a=Math.min(this.totalPages,this.currentPage+e),s=[];for(let o=t;o<=a;o++)s.push(o);return s},goToPage(e){this.currentPage=e},goToFirstPage(){1!==this.currentPage&&(this.currentPage=1)},goToLastPage(){this.currentPage!==this.totalPages&&(this.currentPage=this.totalPages)},orderData(e){return e.sort(((e,t)=>{const a=e.name.toLowerCase(),s=t.name.toLowerCase();return a<s?-1:a>s?1:0}))},formatDate(e){const[t,a,s]=e.split("-"),o=`${s}/${a}/${t}`;return o},async createRevenueForNextMonth(e){try{let t=this.$methods.getNextMonth(e.month,e.year),a={customer:e.customer,year:t.year,month:t.month,value:e.value,payment_day:e.payment_day,notes:e.notes,paid:"À pagar"};await ht.Z.post(`${this.apiURL}/revenue/create/`,a),this.$emit("updateData")}catch(t){console.error("Erro ao criar receita.",t)}},async createExpenseForNextMonth(e){try{let t=this.$methods.getNextMonth(e.month,e.year),a=parseInt(e.due_date.slice(-2)),s=`${t.year}-${t.monthNumber}-${a}`,o={year:t.year,month:t.month,name:e.name,due_date:s,value:e.value,paid:"À pagar",notes:e.notes};await ht.Z.post(`${this.apiURL}/expense/create/`,o),this.$emit("updateData")}catch(t){console.error("Erro ao criar despesa.",t)}}},watch:{requestMessage(){this.requestMessage&&(this.responseMessage=this.requestMessage)}}};const gt=(0,C.Z)(pt,[["render",Ke],["__scopeId","data-v-2adf6440"]]);var vt=gt;function ft(e,t,a,s,n,i){return(0,o.wg)(),(0,o.iD)("button",{class:(0,F.C_)(["button-area",{green:!a.disable,disabled:a.disable}]),onClick:t[0]||(t[0]=t=>e.$emit("executeAction"))},[(0,o.WI)(e.$slots,"default",{},void 0,!0)],2)}var yt={name:"DefaultButton",props:{disable:{type:Boolean,default:!1}}};const wt=(0,C.Z)(yt,[["render",ft],["__scopeId","data-v-06769e96"]]);var Dt=wt;function Mt(e,t,a,n,i,r){return(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{class:"search-area",type:"text",placeholder:"Pesquisar nomes separados por vírgula...","onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),onKeyup:t[1]||(t[1]=(0,s.D2)(((...e)=>r.applyFilter&&r.applyFilter(...e)),["enter"]))},null,544)),[[s.nr,e.search]])}var bt={name:"DefaultSearch",data:function(){return{search:"",searchedField:[]}},methods:{applyFilter(){this.searchedField=this.search.split(",").filter((e=>e)).map((e=>e.trim())),this.$emit("applySearch",this.searchedField)}},watch:{search(){""===this.search&&(this.searchedField=[],this.$emit("applySearch",this.searchedField))}}};const _t=(0,C.Z)(bt,[["render",Mt],["__scopeId","data-v-2590c653"]]);var xt=_t;const kt={key:0,class:"form-buttons-area"};function Pt(e,t,a,s,n,i){const r=(0,o.up)("DefaultButton");return(0,o.wg)(),(0,o.iD)("div",{class:(0,F.C_)(["modal-area",{"top-up":a.isForm,"top-down":!a.isForm}])},[(0,o.WI)(e.$slots,"default",{},void 0,!0),a.isForm?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",kt,[(0,o.Wm)(r,{style:{"background-color":"green"},onExecuteAction:t[0]||(t[0]=t=>e.$emit("executeAction"))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,F.zw)(a.buttonMessage),1)])),_:1}),(0,o.Wm)(r,{style:{"background-color":"red"},onExecuteAction:t[1]||(t[1]=t=>e.$emit("closeModal"))},{default:(0,o.w5)((()=>[(0,o.Uk)(" Cancelar ")])),_:1})]))],2)}var Ct={name:"DefaultModal",components:{DefaultButton:Dt},props:{buttonMessage:{type:String,required:!1,default:"Confirmar"},isForm:{type:Boolean,required:!1,default:!1}}};const St=(0,C.Z)(Ct,[["render",Pt],["__scopeId","data-v-500081d3"]]);var $t=St;const Ft={class:"form-item"},Tt=(0,o._)("label",{class:"form-label",for:"name"},"Nome:",-1),At={class:"form-item"},Et=(0,o._)("label",{class:"form-label",for:"frequency"},"Frequência:",-1),Ut=(0,o.uE)('<option value="1x">1x</option><option value="2x">2x</option><option value="3x">3x</option><option value="4x">4x</option><option value="5x">5x</option>',5),qt=[Ut],Rt={class:"form-item"},zt=(0,o._)("label",{class:"form-label",for:"start"},"Data de Início:",-1),It={class:"form-item"},Lt=(0,o._)("label",{class:"form-label",for:"plan"},"Plano:",-1),Wt=(0,o._)("option",{value:"Mensal"},"Mensal",-1),Vt=(0,o._)("option",{value:"Trimestral"},"Trimestral",-1),Nt=(0,o._)("option",{value:"Semestral"},"Semestral",-1),Yt=(0,o._)("option",{value:"Anual"},"Anual",-1),Zt=[Wt,Vt,Nt,Yt],Ot={class:"form-item"},jt=(0,o._)("label",{class:"form-label",for:"value"},"Valor:",-1),Bt={class:"form-item"},Gt=(0,o._)("label",{class:"form-label"},"Status:",-1),Ht=(0,o._)("label",{class:"form-label",for:"active"},"Ativo",-1),Jt=(0,o._)("label",{class:"form-label",for:"inactive"},"Inativo",-1),Kt={class:"form-item"},Xt=(0,o._)("label",{class:"form-label",for:"notes"},"Notas:",-1),Qt={class:"form-buttons-area"};function ea(e,t,a,n,i,r){const l=(0,o.up)("DefaultButton");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h2",null,(0,F.zw)(a.modalTitle),1),(0,o._)("form",{class:"form-area",onSubmit:t[9]||(t[9]=(0,s.iM)(((...e)=>r.saveCustomer&&r.saveCustomer(...e)),["prevent"]))},[(0,o._)("div",Ft,[Tt,(0,o.wy)((0,o._)("input",{class:"form-input",type:"text",id:"name",name:"name","onUpdate:modelValue":t[0]||(t[0]=t=>e.customerName=t),required:""},null,512),[[s.nr,e.customerName]])]),(0,o._)("div",At,[Et,(0,o.wy)((0,o._)("select",{class:"form-select",id:"frequency",name:"frequency","onUpdate:modelValue":t[1]||(t[1]=t=>e.frequency=t),required:""},qt,512),[[s.bM,e.frequency]])]),(0,o._)("div",Rt,[zt,(0,o.wy)((0,o._)("input",{class:"form-input",type:"date",id:"start",name:"start","onUpdate:modelValue":t[2]||(t[2]=t=>e.start=t),required:""},null,512),[[s.nr,e.start]])]),(0,o._)("div",It,[Lt,(0,o.wy)((0,o._)("select",{class:"form-select",id:"plan",name:"plan","onUpdate:modelValue":t[3]||(t[3]=t=>e.plan=t),required:""},Zt,512),[[s.bM,e.plan]])]),(0,o._)("div",Ot,[jt,(0,o.wy)((0,o._)("input",{class:"form-input",type:"text",id:"value",name:"value","onUpdate:modelValue":t[4]||(t[4]=t=>e.value=t),required:""},null,512),[[s.nr,e.value]])]),(0,o._)("div",Bt,[Gt,(0,o.wy)((0,o._)("input",{class:"form-radio",type:"radio",id:"active",name:"status",value:"Ativo","onUpdate:modelValue":t[5]||(t[5]=t=>e.status=t)},null,512),[[s.G2,e.status]]),Ht,(0,o.wy)((0,o._)("input",{class:"form-radio",type:"radio",id:"inactive",name:"status",value:"Inativo","onUpdate:modelValue":t[6]||(t[6]=t=>e.status=t)},null,512),[[s.G2,e.status]]),Jt]),(0,o._)("div",Kt,[Xt,(0,o.wy)((0,o._)("textarea",{class:"form-textarea",id:"notes",name:"notes",rows:"4","onUpdate:modelValue":t[7]||(t[7]=t=>e.notes=t)},null,512),[[s.nr,e.notes]])]),(0,o._)("div",Qt,[(0,o.Wm)(l,{type:"submit",disable:r.disable},{default:(0,o.w5)((()=>[(0,o.Uk)(" Salvar ")])),_:1},8,["disable"]),(0,o.Wm)(l,{style:{"background-color":"red"},type:"button",onExecuteAction:t[8]||(t[8]=t=>e.$emit("closeModal"))},{default:(0,o.w5)((()=>[(0,o.Uk)(" Cancelar ")])),_:1})])],32)])}const ta={data(){return{apiURL:"http://localhost:80/api",months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro","Todos os meses"],years:[2023,2024,2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035,2036,2037,2038,"Todos"]}}};var aa={name:"CustomersForm",mixins:[ta],components:{DefaultButton:Dt},props:{item:Object,action:String,modalTitle:String},data:function(){return{customerName:"",frequency:"",start:"",plan:"",value:0,status:"",notes:""}},computed:{disable(){return""===this.customerName||""===this.frequency||""===this.start||""===this.plan||0===this.value||""===this.status}},methods:{saveCustomer(){"create"===this.action?this.createCustomer():this.updateCustomer()},async createCustomer(){try{this.validateFloat();let e={name:this.customerName,frequency:this.frequency,start:this.start,plan:this.plan,value:this.value,status:this.status,notes:this.notes},t=await ht.Z.post(`${this.apiURL}/customer/create/`,e);this.$emit("showMessage","Cliente criado com sucesso!"),this.$emit("closeModal"),this.$emit("updateTable"),"Ativo"===this.status&&setTimeout((()=>{this.createRevenue(t.data.id)}),500)}catch(e){console.error("Erro ao criar cliente.",e),this.$emit("showMessage","Erro ao criar cliente.")}},async updateCustomer(){try{this.validateFloat();let e={name:this.customerName,frequency:this.frequency,start:this.start,plan:this.plan,value:this.value,status:this.status,notes:this.notes};await ht.Z.put(`${this.apiURL}/customer/${this.item.id}/`,e),this.$emit("showMessage","Cliente atualizado com sucesso!"),this.$emit("closeModal"),this.$emit("updateTable")}catch(e){console.error("Erro ao atualizar cliente.",e),this.$emit("showMessage","Erro ao atualizar cliente.")}},async createRevenue(e){try{let t=this.$methods.getCurrentYearAndMonth(),a={customer:e,year:t.year,month:t.month,value:this.value,payment_day:10,notes:this.notes,paid:"À pagar"};await ht.Z.post(`${this.apiURL}/revenue/create/`,a)}catch(t){console.error("Erro ao criar receita.",t)}},fillModal(){if("create"===this.action){let e=new Date,t=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getDate().toString().padStart(2,"0"),o=t+"-"+a+"-"+s;this.start=o,this.plan="Mensal",this.status="Ativo"}if("update"===this.action){let e=this.item.value,t=e.toString().replace(/\./g,",");this.customerName=this.item.name,this.frequency=this.item.frequency,this.start=this.item.start,this.plan=this.item.plan,this.value=t,this.status=this.item.status,this.notes=this.item.notes}},validateFloat(){const e=this.value.replace(",","."),t=parseFloat(e);isNaN(t)?this.value=null:this.value=t}},mounted(){this.fillModal()}};const sa=(0,C.Z)(aa,[["render",ea]]);var oa=sa;const na={class:"filter-area"},ia=["value"];function ra(e,t,a,n,i,r){return(0,o.wg)(),(0,o.iD)("div",na,[(0,o.wy)((0,o._)("select",{class:"form-select font status",id:"status",name:"status","onUpdate:modelValue":t[0]||(t[0]=e=>i.customerStatus=e),onChange:t[1]||(t[1]=t=>e.$emit("get-status",this.customerStatus)),required:""},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.statusList,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t,value:e},(0,F.zw)(e),9,ia)))),128))],544),[[s.bM,i.customerStatus]])])}var la={name:"StatusFilter",data(){return{customerStatus:"",statusList:["Ativo","Inativo","Todos"]}},methods:{getStatus(){this.customerStatus="Ativo",this.$emit("get-status",this.customerStatus)}},mounted(){this.getStatus()}};const ua=(0,C.Z)(la,[["render",ra],["__scopeId","data-v-3c8724e9"]]);var ca=ua,da={name:"CustomersPage",mixins:[ta],components:{DefaultTable:vt,DefaultButton:Dt,DefaultSearch:xt,DefaultModal:$t,CustomersForm:oa,StatusFilter:ca},props:{customers:Array,revenue:Array},data(){return{columns:[{key:"name",name:"Nome"},{key:"frequency",name:"Freq."},{key:"start",name:"Data de início"},{key:"plan",name:"Plano"},{key:"value",name:"Valor"},{key:"status",name:"Status"},{key:"actions",name:""}],searchedField:[],showModal:!1,item:{},action:"",customerName:"",modalTitle:"",requestMessage:"",currentStatus:"",buttonMessage:"Confirmar",isForm:!1}},computed:{filteredCustomers(){return this.customers&&this.customers.length>0?"Todos"===this.currentStatus?this.customers:this.customers.filter((e=>e.status===this.currentStatus)):[]}},methods:{applySearch(e){this.searchedField=e},addCustomer(){this.showModal=!0,this.isForm=!0,this.action="create",this.modalTitle="Adicionar Cliente"},updateCustomer(e){this.showModal=!0,this.isForm=!0,this.item=e,this.action="update",this.modalTitle="Atualizar Cliente"},getModalAction(){this.blockDelete?this.inactiveCustomer():this.deleteCustomer()},async deleteCustomer(){try{await ht.Z.delete(`${this.apiURL}/customer/${this.item.id}/`),this.showMessage("Cliente excluído com sucesso!")}catch(e){console.error("Erro ao excluir cliente.",e),this.showMessage("Erro ao excluir cliente.")}this.showModal=!1,this.$emit("updateData")},async inactiveCustomer(){try{let e={status:"Inativo"};await ht.Z.patch(`${this.apiURL}/customer/${this.item.id}/`,e),this.showMessage("Cliente inativado com sucesso!")}catch(e){console.error("Erro ao inativar cliente.",e),this.showMessage("Erro ao inativar cliente.")}this.showModal=!1,this.$emit("updateData")},showDeleteModal(e){this.item=e,this.showModal=!0,this.action="delete";let t=this.revenue.filter((e=>e.customer===this.item.id));this.customerName=e.name,t.length>0?(this.blockDelete=!0,this.buttonMessage="Inativar cliente"):this.blockDelete=!1},closeModal(){this.showModal=!1,this.isForm=!1,this.buttonMessage="Confirmar"},showMessage(e){this.requestMessage=e},getStatus(e){this.currentStatus=e}}};const ma=(0,C.Z)(da,[["render",$e]]);var ha=ma;const pa={class:"content-area"},ga={style:{display:"flex","justify-content":"space-between"}},va={style:{display:"flex","justify-content":"flex-end"}},fa={key:0,class:"message-area"},ya={class:"highlight"},wa={class:"highlight"},Da={key:1,class:"message-area"},Ma={class:"highlight"},ba={class:"highlight"},_a={class:"highlight"},xa={key:1,class:"defocus"};function ka(e,t,a,s,n,i){const r=(0,o.up)("font-awesome-icon"),l=(0,o.up)("DefaultButton"),u=(0,o.up)("MonthFilter"),c=(0,o.up)("DefaultSearch"),d=(0,o.up)("DefaultTable"),m=(0,o.up)("RevenueForm"),h=(0,o.up)("DefaultModal");return(0,o.wg)(),(0,o.iD)("div",pa,[(0,o._)("div",ga,[(0,o.Wm)(l,{onExecuteAction:i.addRevenue,style:{"background-color":"var(--red-dark-color)"}},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{icon:"fa-solid fa-plus",class:"icon-add"}),(0,o.Uk)(" Nova Receita ")])),_:1},8,["onExecuteAction"]),(0,o._)("div",va,[(0,o.Wm)(u,{onGetMonth:i.getMonth,onGetYear:i.getYear,onGetStatus:i.getStatus,statusList:n.statusList},null,8,["onGetMonth","onGetYear","onGetStatus","statusList"]),(0,o.Wm)(c,{onApplySearch:i.applySearch},null,8,["onApplySearch"])])]),(0,o.Wm)(d,{columns:n.columns,data:i.filteredRevenue,searchedField:n.searchedField,requestMessage:n.requestMessage,page:a.selectedPage,onUpdateData:t[0]||(t[0]=t=>e.$emit("updateData")),onUpdateItem:i.updateRevenue,onDeleteItem:i.showDeleteModal},null,8,["columns","data","searchedField","requestMessage","page","onUpdateItem","onDeleteItem"]),n.showModal?((0,o.wg)(),(0,o.j4)(h,{key:0,isForm:n.isForm,onExecuteAction:i.getModalAction,onCloseModal:i.closeModal},{default:(0,o.w5)((()=>["delete"===n.action?((0,o.wg)(),(0,o.iD)("h3",fa,[(0,o.Uk)(" Tem certeza que deseja excluir o recebimento da mensalidade do cliente "),(0,o._)("strong",ya,(0,F.zw)(n.messageData.name),1),(0,o.Uk)(" referente ao mês de "),(0,o._)("strong",wa,(0,F.zw)(n.messageData.date),1),(0,o.Uk)("? ")])):n.showConfirmation?((0,o.wg)(),(0,o.iD)("h3",Da,[(0,o.Uk)(" O valor atual da mensalidade do cliente "),(0,o._)("strong",Ma,(0,F.zw)(n.confirmationData.name),1),(0,o.Uk)(" é de "),(0,o._)("strong",ba,"R$"+(0,F.zw)(i.formatValue(n.confirmationData.currentValue)),1),(0,o.Uk)(" segundo o seu cadastro. Você gostaria de atualizar todos os futuros pagamentos deste cliente para este novo valor de "),(0,o._)("strong",_a,"R$"+(0,F.zw)(i.formatValue(n.confirmationData.updatedValue)),1),(0,o.Uk)("? ")])):((0,o.wg)(),(0,o.j4)(m,{key:2,item:n.item,customers:a.customers,action:n.action,modalTitle:n.modalTitle,onUpdateTable:t[1]||(t[1]=t=>e.$emit("updateData")),onCloseModal:i.closeModal,onShowMessage:i.showMessage,onGetConfirmation:i.getConfirmation},null,8,["item","customers","action","modalTitle","onCloseModal","onShowMessage","onGetConfirmation"]))])),_:1},8,["isForm","onExecuteAction","onCloseModal"])):(0,o.kq)("",!0),n.showModal?((0,o.wg)(),(0,o.iD)("div",xa)):(0,o.kq)("",!0)])}const Pa=e=>((0,o.dD)("data-v-ee589ed2"),e=e(),(0,o.Cn)(),e),Ca={class:"filter-area"},Sa=["value"],$a=["value"],Fa=Pa((()=>(0,o._)("option",{disabled:"",selected:"",value:"Todos"},"Status:",-1))),Ta=["value"];function Aa(e,t,a,n,i,r){return(0,o.wg)(),(0,o.iD)("div",Ca,[(0,o.wy)((0,o._)("select",{class:"form-select font month",id:"month",name:"month","onUpdate:modelValue":t[0]||(t[0]=e=>i.month=e),onChange:t[1]||(t[1]=t=>e.$emit("get-month",this.month)),required:""},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.months,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t,value:e},(0,F.zw)(e),9,Sa)))),128))],544),[[s.bM,i.month]]),(0,o.wy)((0,o._)("select",{class:"form-select font",id:"year",name:"year","onUpdate:modelValue":t[2]||(t[2]=e=>i.year=e),onChange:t[3]||(t[3]=t=>e.$emit("get-year",this.year)),required:""},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.years,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t,value:e},(0,F.zw)(e),9,$a)))),128))],544),[[s.bM,i.year]]),(0,o.wy)((0,o._)("select",{class:"form-select font status",id:"status",name:"status","onUpdate:modelValue":t[4]||(t[4]=e=>i.paymentStatus=e),onChange:t[5]||(t[5]=t=>e.$emit("get-status",this.paymentStatus)),required:""},[Fa,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.statusList,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t,value:e},(0,F.zw)(e),9,Ta)))),128))],544),[[s.bM,i.paymentStatus]])])}var Ea={name:"MonthFilter",mixins:[ta],props:{statusList:Array},data(){return{month:"",year:0,paymentStatus:""}},methods:{getDate(){let e=new Date,t=e.getMonth();this.year=e.getFullYear(),this.month=this.months[t],this.$emit("get-month",this.month),this.$emit("get-year",this.year)},getStatus(){this.paymentStatus="Todos",this.$emit("get-status",this.paymentStatus)}},mounted(){this.getDate(),this.getStatus()}};const Ua=(0,C.Z)(Ea,[["render",Aa],["__scopeId","data-v-ee589ed2"]]);var qa=Ua;const Ra={class:"form-item"},za=(0,o._)("label",{class:"form-label",for:"plan"},"Cliente:",-1),Ia=["value"],La={class:"form-item"},Wa=(0,o._)("label",{class:"form-label",for:"value"},"Valor:",-1),Va={class:"form-item"},Na=(0,o._)("label",{class:"form-label",for:"dueDate",style:{"min-width":"160px"}},"Dia do Vencimento:",-1),Ya={class:"form-item"},Za=(0,o._)("label",{class:"form-label",for:"month",style:{"min-width":"110px"}},"Receber em:",-1),Oa=["value"],ja=["value"],Ba={class:"form-item"},Ga=(0,o._)("label",{class:"form-label",for:"notes"},"Notas:",-1),Ha={class:"form-buttons-area"};function Ja(e,t,a,n,i,r){const l=(0,o.up)("DefaultButton");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h2",null,(0,F.zw)(a.modalTitle),1),(0,o._)("form",{class:"form-area",onSubmit:t[7]||(t[7]=(0,s.iM)(((...e)=>r.saveRevenue&&r.saveRevenue(...e)),["prevent"]))},[(0,o._)("div",Ra,[za,(0,o.wy)((0,o._)("select",{class:"form-select",id:"plan",name:"plan","onUpdate:modelValue":t[0]||(t[0]=t=>e.customer=t),required:""},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.customers,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t,value:e},(0,F.zw)(e.name),9,Ia)))),128))],512),[[s.bM,e.customer]])]),(0,o._)("div",La,[Wa,(0,o.wy)((0,o._)("input",{class:"form-input",type:"text",id:"value",name:"value","onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t),required:""},null,512),[[s.nr,e.value]])]),(0,o._)("div",Va,[Na,(0,o.wy)((0,o._)("input",{class:"form-input",type:"number",id:"dueDate",name:"dueDate","onUpdate:modelValue":t[2]||(t[2]=t=>e.dueDate=t),min:"1",max:"31",required:""},null,512),[[s.nr,e.dueDate]])]),(0,o._)("div",Ya,[Za,(0,o.wy)((0,o._)("select",{class:"form-select font month",style:{"margin-right":"10px"},id:"month",name:"month","onUpdate:modelValue":t[3]||(t[3]=t=>e.month=t),required:""},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.months,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t,value:e},(0,F.zw)(e),9,Oa)))),128))],512),[[s.bM,e.month]]),(0,o.wy)((0,o._)("select",{class:"form-select font",style:{"max-width":"120px"},id:"year",name:"year","onUpdate:modelValue":t[4]||(t[4]=t=>e.year=t),required:""},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.years,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t,value:e},(0,F.zw)(e),9,ja)))),128))],512),[[s.bM,e.year]])]),(0,o._)("div",Ba,[Ga,(0,o.wy)((0,o._)("textarea",{class:"form-textarea",id:"notes",name:"notes",rows:"4","onUpdate:modelValue":t[5]||(t[5]=t=>e.notes=t)},null,512),[[s.nr,e.notes]])]),(0,o._)("div",Ha,[(0,o.Wm)(l,{type:"submit",disable:r.disable},{default:(0,o.w5)((()=>[(0,o.Uk)(" Salvar ")])),_:1},8,["disable"]),(0,o.Wm)(l,{style:{"background-color":"red"},type:"button",onExecuteAction:t[6]||(t[6]=t=>e.$emit("closeModal"))},{default:(0,o.w5)((()=>[(0,o.Uk)(" Cancelar ")])),_:1})])],32)])}var Ka={name:"RevenueForm",mixins:[ta],components:{DefaultButton:Dt},props:{item:Object,action:String,modalTitle:String,customers:Array},data:function(){return{customer:"",value:0,notes:"",year:0,month:"",dueDate:0}},computed:{disable(){return""===this.customer||0===this.year||""===this.month||0===this.value||0===this.dueDate}},methods:{saveRevenue(){"create"===this.action?this.createRevenue():this.updateRevenue()},async createRevenue(){try{this.validateFloat();let e={customer:this.customer.id,year:this.year,month:this.month,value:this.value,payment_day:this.dueDate,notes:this.notes,paid:"À pagar"};await ht.Z.post(`${this.apiURL}/revenue/create/`,e),this.$emit("showMessage","Receita criada com sucesso!"),this.$emit("closeModal"),this.$emit("updateTable")}catch(e){console.error("Erro ao criar receita.",e),this.$emit("showMessage","Erro ao criar receita.")}},async updateRevenue(){try{this.validateFloat();let e={customer:this.item.customer,year:this.year,month:this.month,value:this.value,payment_day:this.dueDate,notes:this.notes};await ht.Z.put(`${this.apiURL}/revenue/${this.item.id}/`,e),this.$emit("showMessage","Receita atualizada com sucesso!"),this.$emit("closeModal"),this.$emit("updateTable"),this.checkChangesInValue()}catch(e){console.error("Erro ao atualizar receita.",e),this.$emit("showMessage","Erro ao atualizar receita.")}},fillModal(){if("create"===this.action){let e=new Date,t=e.getMonth(),a=e.getFullYear(),s=this.months[t];this.year=a,this.month=s}if("update"===this.action){let e=this.item.value,t=e.toString().replace(/\./g,","),a=Number(this.item.customer);this.customer=this.customers.find((e=>e.id===a)),this.value=t,this.notes=this.item.notes,this.dueDate=this.item.payment_day,this.year=this.item.year,this.month=this.item.month}},validateFloat(){const e=this.value.replace(",","."),t=parseFloat(e);isNaN(t)?this.value=null:this.value=t},checkChangesInValue(){let e=this.customers.filter((e=>e.id===this.item.customer)),t=e.map((e=>e.value)),a=e.map((e=>e.name)),s={id:this.item.customer,month:this.item.month,year:this.item.year,name:a[0],currentValue:t[0],updatedValue:this.value};t[0]!==this.value&&this.$emit("getConfirmation",s)}},mounted(){this.fillModal()}};const Xa=(0,C.Z)(Ka,[["render",Ja]]);var Qa=Xa,es={name:"RevenuePage",mixins:[ta],components:{DefaultTable:vt,DefaultButton:Dt,DefaultSearch:xt,DefaultModal:$t,RevenueForm:Qa,MonthFilter:qa},props:{revenue:Array,customers:Array,selectedPage:String},data(){return{columns:[{key:"year",name:"Ano"},{key:"month",name:"Mês"},{key:"name",name:"Nome"},{key:"start",name:"Data de início"},{key:"plan",name:"Plano"},{key:"payment_day",name:"Vencimento"},{key:"value",name:"Valor"},{key:"paid",name:"Status"},{key:"actions",name:""}],statusList:["Pago","À pagar","Link enviado","Todos"],searchedField:[],showModal:!1,item:{},action:"",messageData:{},modalTitle:"",requestMessage:"",currentMonth:"",currentYear:0,currentStatus:"",showConfirmation:!1,confirmationData:{},isForm:!1}},computed:{filteredRevenue(){return this.$computed.filteredData(this.revenue,this.currentMonth,this.currentYear,this.currentStatus)}},methods:{getMonth(e){this.currentMonth=e},getYear(e){this.currentYear=e},getStatus(e){this.currentStatus=e},applySearch(e){this.searchedField=e},addRevenue(){this.showModal=!0,this.isForm=!0,this.action="create",this.modalTitle="Adicionar Receita"},updateRevenue(e){this.showModal=!0,this.isForm=!0,this.item=e,this.action="update",this.modalTitle="Atualizar Receita"},async deleteRevenue(){try{await ht.Z.delete(`${this.apiURL}/revenue/${this.item.id}/`),this.showMessage("Receita excluída com sucesso!")}catch(e){console.error("Erro ao excluir receita.",e),this.showMessage("Erro ao excluir receita.")}this.showModal=!1,this.$emit("updateData")},showDeleteModal(e){this.item=e,this.showModal=!0,this.action="delete";let t=`${e.month}/${e.year}`;this.messageData={name:e.name,date:t}},closeModal(){this.showModal=!1,this.isForm=!1,this.showConfirmation=!1,this.action=""},showMessage(e){this.requestMessage=e},getConfirmation(e){this.confirmationData=e,this.showModal=!0,this.showConfirmation=!0},getModalAction(){this.showConfirmation?(this.updateCustomerValue(),this.updateFutureRevenue(),this.closeModal(),this.$emit("updateData")):this.deleteRevenue()},updateFutureRevenue(){let e=this.$methods.getNextMonth(this.confirmationData.month,this.confirmationData.year),t=this.revenue.filter((t=>t.month===e.month&&t.year===e.year));for(let a=0;a<t.length;a++)this.updateRevenueValue(t[a].id)},async updateCustomerValue(){try{let e={value:this.confirmationData.updatedValue};await ht.Z.patch(`${this.apiURL}/customer/${this.confirmationData.id}/`,e),this.$emit("showMessage","Cliente atualizado com sucesso!")}catch(e){console.error("Erro ao atualizar cliente.",e),this.$emit("showMessage","Erro ao atualizar cliente.")}},async updateRevenueValue(e){try{let t={value:this.confirmationData.updatedValue};await ht.Z.patch(`${this.apiURL}/revenue/${e}/`,t)}catch(t){console.error("Erro ao atualizar receita.",t)}},incrementData(){this.customers.forEach((e=>{const t=this.revenue.filter((t=>t.customer===e.id));t.forEach((t=>{t.name=e.name,t.start=e.start,t.plan=e.plan,t.status=e.status}))}))},formatValue(e){return e.toFixed(2).toString().replace(/\./g,",")}},watch:{revenue(){this.incrementData()}},mounted(){this.customers&&this.customers.length>0&&this.incrementData(),this.$emit("updateData")}};const ts=(0,C.Z)(es,[["render",ka]]);var as=ts;const ss={class:"content-area"},os={style:{display:"flex","justify-content":"space-between"}},ns={style:{display:"flex","justify-content":"flex-end"}},is={key:0,class:"message-area"},rs={class:"highlight"},ls={class:"highlight"},us={key:1,class:"defocus"};function cs(e,t,a,s,n,i){const r=(0,o.up)("font-awesome-icon"),l=(0,o.up)("DefaultButton"),u=(0,o.up)("MonthFilter"),c=(0,o.up)("DefaultSearch"),d=(0,o.up)("DefaultTable"),m=(0,o.up)("ExpensesForm"),h=(0,o.up)("DefaultModal");return(0,o.wg)(),(0,o.iD)("div",ss,[(0,o._)("div",os,[(0,o.Wm)(l,{onExecuteAction:i.addExpense,style:{"background-color":"var(--red-dark-color)"}},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{icon:"fa-solid fa-plus",class:"icon-add"}),(0,o.Uk)(" Nova Despesa ")])),_:1},8,["onExecuteAction"]),(0,o._)("div",ns,[(0,o.Wm)(u,{onGetMonth:i.getMonth,onGetYear:i.getYear,onGetStatus:i.getStatus,statusList:n.statusList},null,8,["onGetMonth","onGetYear","onGetStatus","statusList"]),(0,o.Wm)(c,{onApplySearch:i.applySearch},null,8,["onApplySearch"])])]),(0,o.Wm)(d,{columns:n.columns,data:i.filteredExpenses,searchedField:n.searchedField,requestMessage:n.requestMessage,page:a.selectedPage,onUpdateData:t[0]||(t[0]=t=>e.$emit("updateData")),onUpdateItem:i.updateExpense,onDeleteItem:i.showDeleteModal},null,8,["columns","data","searchedField","requestMessage","page","onUpdateItem","onDeleteItem"]),n.showModal?((0,o.wg)(),(0,o.j4)(h,{key:0,isForm:n.isForm,onExecuteAction:i.deleteExpense,onCloseModal:i.closeModal},{default:(0,o.w5)((()=>["delete"===n.action?((0,o.wg)(),(0,o.iD)("h3",is,[(0,o.Uk)(" Tem certeza que deseja excluir o pagamento da despesa de "),(0,o._)("strong",rs,(0,F.zw)(n.messageData.name),1),(0,o.Uk)(" referente ao mês de "),(0,o._)("strong",ls,(0,F.zw)(n.messageData.date),1),(0,o.Uk)("? ")])):((0,o.wg)(),(0,o.j4)(m,{key:1,item:n.item,action:n.action,modalTitle:n.modalTitle,onUpdateTable:t[1]||(t[1]=t=>e.$emit("updateData")),onCloseModal:i.closeModal,onShowMessage:i.showMessage},null,8,["item","action","modalTitle","onCloseModal","onShowMessage"]))])),_:1},8,["isForm","onExecuteAction","onCloseModal"])):(0,o.kq)("",!0),n.showModal?((0,o.wg)(),(0,o.iD)("div",us)):(0,o.kq)("",!0)])}const ds={class:"form-item"},ms=(0,o._)("label",{class:"form-label",for:"name"},"Nome:",-1),hs={class:"form-item"},ps=(0,o._)("label",{class:"form-label",for:"due-date",style:{"min-width":"170px"}},"Data de Vencimento:",-1),gs={class:"form-item"},vs=(0,o._)("label",{class:"form-label",for:"value"},"Valor:",-1),fs={class:"form-item"},ys=(0,o._)("label",{class:"form-label",for:"notes"},"Notas:",-1),ws={class:"form-buttons-area"};function Ds(e,t,a,n,i,r){const l=(0,o.up)("DefaultButton");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h2",null,(0,F.zw)(a.modalTitle),1),(0,o._)("form",{class:"form-area",onSubmit:t[5]||(t[5]=(0,s.iM)(((...e)=>r.saveExpense&&r.saveExpense(...e)),["prevent"]))},[(0,o._)("div",ds,[ms,(0,o.wy)((0,o._)("input",{class:"form-input",type:"text",id:"name",name:"name","onUpdate:modelValue":t[0]||(t[0]=e=>i.bill=e),required:""},null,512),[[s.nr,i.bill]])]),(0,o._)("div",hs,[ps,(0,o.wy)((0,o._)("input",{class:"form-input",type:"date",id:"due-date",name:"due-date","onUpdate:modelValue":t[1]||(t[1]=e=>i.dueDate=e),required:""},null,512),[[s.nr,i.dueDate]])]),(0,o._)("div",gs,[vs,(0,o.wy)((0,o._)("input",{class:"form-input",type:"text",id:"value",name:"value","onUpdate:modelValue":t[2]||(t[2]=e=>i.value=e),required:""},null,512),[[s.nr,i.value]])]),(0,o._)("div",fs,[ys,(0,o.wy)((0,o._)("textarea",{class:"form-textarea",id:"notes",name:"notes",rows:"4","onUpdate:modelValue":t[3]||(t[3]=e=>i.notes=e)},null,512),[[s.nr,i.notes]])]),(0,o._)("div",ws,[(0,o.Wm)(l,{type:"submit",disable:r.disable},{default:(0,o.w5)((()=>[(0,o.Uk)(" Salvar ")])),_:1},8,["disable"]),(0,o.Wm)(l,{style:{"background-color":"red"},type:"button",onExecuteAction:t[4]||(t[4]=t=>e.$emit("closeModal"))},{default:(0,o.w5)((()=>[(0,o.Uk)(" Cancelar ")])),_:1})])],32)])}var Ms={name:"ExpensesForm",mixins:[ta],components:{DefaultButton:Dt},props:{item:Object,action:String,modalTitle:String},data(){return{bill:"",dueDate:"",value:0,notes:""}},computed:{disable(){return""===this.bill||""===this.dueDate||0===this.value}},methods:{saveExpense(){"create"===this.action?this.createExpense():this.updateExpense()},async createExpense(){try{this.validateFloat();let e=this.getYearAndMonth(this.dueDate),t={year:e.year,month:e.month,name:this.bill,due_date:this.dueDate,value:this.value,paid:"À pagar",notes:this.notes};await ht.Z.post(`${this.apiURL}/expense/create/`,t),this.$emit("showMessage","Despesa criada com sucesso!"),this.$emit("closeModal"),this.$emit("updateTable")}catch(e){console.error("Erro ao criar despesa.",e),this.$emit("showMessage","Erro ao criar despesa.")}},async updateExpense(){try{this.validateFloat();let e=this.getYearAndMonth(this.dueDate),t={year:e.year,month:e.month,name:this.bill,due_date:this.dueDate,value:this.value,notes:this.notes};await ht.Z.patch(`${this.apiURL}/expense/${this.item.id}/`,t),this.$emit("showMessage","Despesa atualizada com sucesso!"),this.$emit("closeModal"),this.$emit("updateTable")}catch(e){console.error("Erro ao atualizar despesa.",e),this.$emit("showMessage","Erro ao atualizar despesa.")}},getYearAndMonth(e){let t=new Date(e),a=t.getFullYear(),s=t.getMonth(),o=this.months[s];return{year:a,month:o}},fillModal(){let e=this.item.value,t=e.toString().replace(/\./g,",");this.bill=this.item.name,this.dueDate=this.item.due_date,this.value=t,this.notes=this.item.notes},validateFloat(){const e=this.value.replace(",","."),t=parseFloat(e);isNaN(t)?this.value=null:this.value=t}},mounted(){"update"===this.action&&this.fillModal()}};const bs=(0,C.Z)(Ms,[["render",Ds]]);var _s=bs,xs={name:"ExpensesPage",mixins:[ta],components:{DefaultTable:vt,DefaultButton:Dt,DefaultSearch:xt,DefaultModal:$t,ExpensesForm:_s,MonthFilter:qa},props:{expenses:Array,selectedPage:String},data(){return{columns:[{key:"year",name:"Ano"},{key:"month",name:"Mês"},{key:"name",name:"Nome"},{key:"due_date",name:"Data de vencimento"},{key:"value",name:"Valor"},{key:"paid",name:"Status"},{key:"actions",name:""}],statusList:["Pago","À pagar","Todos"],searchedField:[],showModal:!1,item:{},action:"",messageData:{},modalTitle:"",requestMessage:"",currentMonth:"",currentYear:0,currentStatus:"",isForm:!1}},computed:{filteredExpenses(){return this.$computed.filteredData(this.expenses,this.currentMonth,this.currentYear,this.currentStatus)}},methods:{getMonth(e){this.currentMonth=e},getYear(e){this.currentYear=e},getStatus(e){this.currentStatus=e},applySearch(e){this.searchedField=e},addExpense(){this.showModal=!0,this.isForm=!0,this.action="create",this.modalTitle="Adicionar Despesa"},updateExpense(e){this.showModal=!0,this.isForm=!0,this.item=e,this.action="update",this.modalTitle="Atualizar Despesa"},async deleteExpense(){try{await ht.Z.delete(`${this.apiURL}/expense/${this.item.id}/`),this.showMessage("Despesa excluída com sucesso!")}catch(e){console.error("Erro ao excluir despesa.",e),this.showMessage("Erro ao excluir despesa.")}this.showModal=!1,this.$emit("updateData")},showDeleteModal(e){this.item=e,this.showModal=!0,this.action="delete";let t=`${e.month}/${e.year}`;this.messageData={name:e.name,date:t,view:"expense"}},closeModal(){this.showModal=!1,this.isForm=!1},showMessage(e){this.requestMessage=e}}};const ks=(0,C.Z)(xs,[["render",cs]]);var Ps=ks,Cs={name:"ContentPage",mixins:[ta],components:{RevenuePage:as,ExpensesPage:Ps,MetricsPage:we,CustomersPage:ha},data(){return{customers:[],revenue:[],expenses:[]}},props:{selectedPage:String},methods:{async getCustomers(){try{let e=await ht.Z.get(`${this.apiURL}/customer/`);this.customers=e.data}catch(e){console.error("Erro ao requisitar a lista de clientes.",e)}},async getRevenue(){try{let e=await ht.Z.get(`${this.apiURL}/revenue/`);this.revenue=e.data}catch(e){console.error("Erro ao requisitar a lista de receitas.",e)}},async getExpenses(){try{let e=await ht.Z.get(`${this.apiURL}/expense/`);this.expenses=e.data}catch(e){console.error("Erro ao requisitar a lista de despesas.",e)}},getData(){this.getCustomers(),this.getRevenue(),this.getExpenses()}},mounted(){this.getData()}};const Ss=(0,C.Z)(Cs,[["render",J],["__scopeId","data-v-fb417b8c"]]);var $s=Ss;const Fs=e=>((0,o.dD)("data-v-889872c4"),e=e(),(0,o.Cn)(),e),Ts={class:"footer-area"},As={class:"footer-text"},Es=Fs((()=>(0,o._)("span",{class:"red"},"Maisa",-1)));function Us(e,t,a,s,n,i){const r=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",Ts,[(0,o._)("span",As,[(0,o.Uk)(" Desenvolvido com "),(0,o.Wm)(r,{icon:"fa-solid fa-heart",class:"red"}),(0,o.Uk)(" por "),Es,(0,o.Uk)(". ")])])}var qs={name:"FooterPage"};const Rs=(0,C.Z)(qs,[["render",Us],["__scopeId","data-v-889872c4"]]);var zs=Rs,Is={name:"App",components:{HeaderPage:$,SideBar:G,ContentPage:$s,FooterPage:zs},data:function(){return{selectedPage:"metrics"}},methods:{openContent(e){this.selectedPage=e}}};const Ls=(0,C.Z)(Is,[["render",i]]);var Ws=Ls,Vs=a(3494),Ns=a(8539);Vs.vI.add(Ns.m6i),Vs.vI.add(Ns.FVb),Vs.vI.add(Ns.Stf),Vs.vI.add(Ns.VPG),Vs.vI.add(Ns.LH4),Vs.vI.add(Ns.EsM),Vs.vI.add(Ns.r8p),Vs.vI.add(Ns.Yai),Vs.vI.add(Ns.Vui),Vs.vI.add(Ns.LEp),Vs.vI.add(Ns.g82),Vs.vI.add(Ns.DBf);var Ys=a(7749);const Zs={methods:{filterLast12Months(e){const t=new Date,a=t.getFullYear(),s=e.filter((e=>{if(e.year===a){const a=new Date(t.getFullYear(),t.getMonth(),1),s=new Date(t.getFullYear(),this.getMonthIndex(e.month),1);return s>=a}return e.year===a-1&&this.getMonthIndex(e.month)>=t.getMonth()}));return s},getMonthIndex(e){const t=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro","Todos os meses"];return t.indexOf(e)},sortData(e){const t={Janeiro:1,Fevereiro:2,"Março":3,Abril:4,Maio:5,Junho:6,Julho:7,Agosto:8,Setembro:9,Outubro:10,Novembro:11,Dezembro:12};return e.sort(((e,a)=>e.year!==a.year?e.year-a.year:t[e.month]-t[a.month]))},getCurrentYearAndMonth(){const e=new Date,t=e.getFullYear(),a=e.getMonth(),s=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];let o={year:t,month:s[a]};return o},getNextMonth(e,t){const a=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],s=a.indexOf(e);let o=(s+1)%12,n=t;0===o&&n++;const i={month:a[o],year:n,monthNumber:o+1};return i}}},Os={computed:{filteredData(e,t,a,s){return e&&e.length>0?"Todos os meses"===t&&"Todos"===a&&"Todos"===s?e:"Todos os meses"!==t&&"Todos"===a&&"Todos"===s?e.filter((e=>e.month===t)):"Todos os meses"===t&&"Todos"!==a&&"Todos"===s?e.filter((e=>e.year===a)):"Todos os meses"===t&&"Todos"===a&&"Todos"!==s?e.filter((e=>e.paid===s)):"Todos os meses"!==t&&"Todos"!==a&&"Todos"===s?e.filter((e=>e.month===t&&e.year===a)):"Todos os meses"===t&&"Todos"!==a&&"Todos"!==s?e.filter((e=>e.year===a&&e.paid===s)):"Todos os meses"!==t&&"Todos"===a&&"Todos"!==s?e.filter((e=>e.month===t&&e.paid===s)):e.filter((e=>e.month===t&&e.year===a&&e.paid===s)):[]}}},js=(0,s.ri)(Ws);js.mixin(ta),js.component("font-awesome-icon",Ys.GN),js.config.globalProperties.$methods=Zs.methods,js.config.globalProperties.$computed=Os.computed,js.use(Vs.vI),js.mount("#app")}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,o,n){if(!s){var i=1/0;for(c=0;c<e.length;c++){s=e[c][0],o=e[c][1],n=e[c][2];for(var r=!0,l=0;l<s.length;l++)(!1&n||i>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(r=!1,n<i&&(i=n));if(r){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[s,o,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,n,i=s[0],r=s[1],l=s[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(l)var c=l(a)}for(t&&t(s);u<i.length;u++)n=i[u],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},s=self["webpackChunkfrontend2"]=self["webpackChunkfrontend2"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(7053)}));s=a.O(s)})();
//# sourceMappingURL=app.ce845478.js.map